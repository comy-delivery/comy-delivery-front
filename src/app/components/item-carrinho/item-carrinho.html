<div class="card rounded-4 mt-3 p-3 shadow-sm">
  <div class="row align-items-center">
    <div class="col-3 col-sm-2">
      <img
        [src]="imagemUrl || 'assets/img/loading.png'"
        class="w-100 rounded-4 object-fit-cover"
        alt="{{ item.produto.nmProduto }}"
        style="height: auto; width: 60px"
      />
    </div>

    <div class="col">
      <div>
        <p class="mb-1 fw-bold">{{ item.produto.nmProduto }}</p>

        <div *ngIf="item.adicionais && item.adicionais.length > 0" class="mt-2">
          <p class="text-success mb-1" style="font-size: 12px">
            <strong>Adicionais:</strong>
          </p>
          <ul class="list-unstyled mb-1" style="font-size: 13px">
            <li *ngFor="let adicional of item.adicionais" class="text-secondary">
              â€¢ {{ adicional.nmAdicional }} (+R$ {{ adicional.vlPrecoAdicional.toFixed(2) }})
            </li>
          </ul>
        </div>

        <div
          *ngIf="item.dsObservacao"
          class="alert alert-warning py-1 px-2 mt-2 d-inline-block"
          style="font-size: 12px"
        >
          <strong>ðŸ’¬ Obs:</strong> {{ item.dsObservacao }}
        </div>
      </div>

      <div class="d-flex justify-content-between align-items-end mt-3">
        <p class="fw-bold mb-0 fs-5">R$ {{ item.vlSubtotal.toFixed(2) }}</p>

        <div class="d-flex align-items-center gap-2">
          <button
            class="btn btn-outline-secondary btn-sm"
            (click)="diminuirQuantidade()"
            [disabled]="item.qtQuantidade <= 1"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-dash"
              viewBox="0 0 16 16"
            >
              <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8" />
            </svg>
          </button>

          <span class="text-secondary fw-bold px-1">{{ item.qtQuantidade }}</span>

          <button class="btn btn-outline-secondary btn-sm" (click)="aumentarQuantidade()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-plus-lg"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"
              />
            </svg>
          </button>

          <button class="btn btn-outline-danger btn-sm ms-2" (click)="removerItem()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-trash"
              viewBox="0 0 16 16"
            >
              <path
                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
              />
              <path
                d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
