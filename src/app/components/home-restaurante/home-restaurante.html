<div class="container mt-3">

  <!-- ========== LOADING ========== -->
  @if(isLoading) {
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Carregando...</span>
      </div>
      <p class="mt-2">Carregando dados do restaurante...</p>
    </div>
  }

  <!-- ========== MENSAGENS ========== -->
  @if(successMessage) {
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <i class="bi bi-check-circle"></i> {{ successMessage }}
      <button type="button" class="btn-close" (click)="successMessage = ''"></button>
    </div>
  }

  @if(errorMessage) {
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <i class="bi bi-exclamation-triangle"></i> {{ errorMessage }}
      <button type="button" class="btn-close" (click)="errorMessage = ''"></button>
    </div>
  }

  <!-- ========== CONTE√öDO PRINCIPAL ========== -->
  @if(!isLoading) {
    <div class="card p-3 shadow rounded-4">
      <div class="d-flex justify-content-between align-items-center">

        <div class="d-flex justify-content-center align-items-center gap-4">

          <svg xmlns="http://www.w3.org/2000/svg" width="75" height="75" fill="#007bff"
            class="bi bi-person-circle" viewBox="0 0 16 16">
            <path
              d="M13.468 12.37C12.758 11.226 11.52 10.5 10 10.5H6c-1.52 0-2.758.726-3.468 1.87A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z" />
            <path fill-rule="evenodd"
              d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
            <path fill-rule="evenodd"
              d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z" />
          </svg>

          <div>
            <h4>{{ restaurante.nmRestaurante || 'Nome do restaurante' }}</h4>

            <p class="mb-1 text-secondary">
              <strong>Email:</strong> {{ restaurante.emailRestaurante || '-' }}
            </p>

            <p class="mb-1 text-secondary">
              <strong>Telefone:</strong> {{ restaurante.telefoneRestaurante || '-' }}
            </p>
          </div>
        </div>

        <div>
          <button class="btn btn-outline-danger" (click)="logout()">
            <i class="bi bi-box-arrow-right"></i> Sair
          </button>
        </div>

      </div>
    </div>

    <!-- üÜï ABAS DO PAINEL (COM PEDIDOS) -->
    <div class="d-flex mt-4 justify-content-center align-items-center gap-3 flex-wrap">

      <!-- üÜï ABA DE PEDIDOS -->
      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="pedidos" id="op-pedidos" />
      <label class="btn btn-outline-primary rounded-5" for="op-pedidos">
        <i class="bi bi-receipt"></i> Pedidos
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="config" id="op-config" />
      <label class="btn btn-outline-primary rounded-5" for="op-config">
        <i class="bi bi-gear"></i> Configura√ß√µes
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="endereco" id="op-endereco" />
      <label class="btn btn-outline-primary rounded-5" for="op-endereco">
        <i class="bi bi-geo-alt"></i> Endere√ßo
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="categoria" id="op-categoria" />
      <label class="btn btn-outline-primary rounded-5" for="op-categoria">
        <i class="bi bi-list-ul"></i> Categoria
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="funcionamento" id="op-funcionamento" />
      <label class="btn btn-outline-primary rounded-5" for="op-funcionamento">
        <i class="bi bi-clock"></i> Funcionamento
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="entrega" id="op-entrega" />
      <label class="btn btn-outline-primary rounded-5" for="op-entrega">
        <i class="bi bi-truck"></i> Entrega
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="imagens" id="op-imagens" />
      <label class="btn btn-outline-primary rounded-5" for="op-imagens">
        <i class="bi bi-image"></i> Imagens
      </label>

      <input type="radio" class="btn-check" [(ngModel)]="opcao" value="fiscal" id="op-fiscal" />
      <label class="btn btn-outline-primary rounded-5" for="op-fiscal">
        <i class="bi bi-receipt-cutoff"></i> Dados Fiscais
      </label>

    </div>


    <div class="mt-4">

      <!-- üÜï ABA DE PEDIDOS -->
      @if (opcao === 'pedidos') {
        <app-pedidos-restaurante/>
      }

      <!-- ========== CONFIGURA√á√ïES ========== -->
      @else if (opcao === 'config') {
        <div class="card p-3 shadow">
          <h5>Configura√ß√µes do Restaurante</h5>

          <div class="mb-3">
            <label class="form-label">Nome</label>
            <input class="form-control" [(ngModel)]="restaurante.nmRestaurante" />
          </div>

          <div class="mb-3">
            <label class="form-label">Descri√ß√£o</label>
            <textarea class="form-control" rows="3" [(ngModel)]="restaurante.descricaoRestaurante"></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label">Telefone</label>
            <input class="form-control" [(ngModel)]="restaurante.telefoneRestaurante" />
          </div>

          <div class="mb-3">
            <label class="form-label">E-mail</label>
            <input class="form-control" [(ngModel)]="restaurante.emailRestaurante" />
          </div>

          <button class="btn btn-primary mt-2" (click)="salvarConfig()" [disabled]="isSaving">
            @if(isSaving) {
              <span class="spinner-border spinner-border-sm me-2"></span>
            }
            Salvar configura√ß√µes
          </button>
        </div>
      }

      <!-- ... resto das abas permanecem iguais ... -->

    </div>
  }

</div>